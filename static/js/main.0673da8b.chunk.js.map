{"version":3,"sources":["components/PostsList/PostsList.jsx","api/api.js","api/comments.js","components/NewCommentForm/NewCommentForm.jsx","api/posts.js","components/PostDetails/PostDetails.jsx","App.jsx","index.js"],"names":["PostsList","posts","selectedPostId","setSelectedPostId","className","map","post","key","id","userId","title","type","onClick","BASE_URL","getPostComments","postId","a","fetch","responce","json","comments","data","filter","comment","deleteComment","commentId","url","options","method","addComment","name","email","body","JSON","stringify","NewCommentForm","setComments","useState","setName","setEmail","setBody","onSubmit","event","preventDefault","then","placeholder","value","onChange","target","trimLeft","getAllPosts","response","getUserPosts","getPostDetails","postDetails","PostDetails","isVisibleComments","setIsVisibleComments","selectedPost","setSelectedPost","useEffect","length","App","postsFromServer","setPosts","selectedUserId","setSelectedUserId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0673da8b.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './PostsList.scss';\n\nexport const PostsList = ({\n  posts,\n  selectedPostId,\n  setSelectedPostId,\n}) => (\n  <div className=\"PostsList\">\n    <h2>Posts:</h2>\n\n    <ul className=\"PostsList__list\">\n      {posts.map(post => (\n        <li className=\"PostsList__item\" key={post.id}>\n          <div>\n            <b>{`[User #${post.userId}]: `}</b>\n            {post.title}\n          </div>\n          <button\n            type=\"button\"\n            className=\"PostsList__button button\"\n            onClick={() => {\n              selectedPostId === post.id\n                ? setSelectedPostId(0)\n                : setSelectedPostId(post.id);\n            }}\n          >\n            {(selectedPostId === post.id)\n              ? 'Close'\n              : 'Open'\n            }\n          </button>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nPostsList.propTypes = {\n  posts: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      userId: PropTypes.number.isRequired,\n      body: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  selectedPostId: PropTypes.number.isRequired,\n  setSelectedPostId: PropTypes.func.isRequired,\n};\n","export const BASE_URL = 'https://mate-api.herokuapp.com';\n","import { BASE_URL } from './api';\n\nexport const getPostComments = async(postId) => {\n  const responce = await fetch(`${BASE_URL}/comments`);\n  const comments = await responce.json();\n\n  return comments.data\n    .filter(comment => comment.postId && comment.postId === postId);\n};\n\nexport const deleteComment = async(commentId) => {\n  const url = `${BASE_URL}/comments/${commentId}`;\n  const options = {\n    method: 'DELETE',\n  };\n\n  const responce = await fetch(url, options);\n  const comments = await responce.json();\n\n  return comments.data;\n};\n\nexport const addComment = async(\n  postId,\n  name,\n  email,\n  body,\n) => {\n  const url = `${BASE_URL}/comments`;\n  const options = {\n    method: 'POST',\n    body: JSON.stringify({\n      postId,\n      name,\n      email,\n      body,\n    }),\n  };\n\n  const responce = await fetch(url, options);\n  const comments = await responce.json();\n\n  return comments.data;\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './NewCommentForm.scss';\nimport { addComment, getPostComments } from '../../api/comments';\n\nexport const NewCommentForm = ({ selectedPostId, setComments }) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [body, setBody] = useState('');\n\n  const handleSendComment = (event) => {\n    event.preventDefault();\n\n    if (name && email && body) {\n      addComment(selectedPostId, name, email, body)\n        .then(() => getPostComments(selectedPostId))\n        .then(setComments);\n\n      setName('');\n      setEmail('');\n      setBody('');\n    }\n  };\n\n  return (\n    <form\n      className=\"NewCommentForm\"\n      onSubmit={handleSendComment}\n    >\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Your name\"\n          className=\"NewCommentForm__input\"\n          value={name}\n          onChange={event => setName(event.target.value.trimLeft())}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"email\"\n          placeholder=\"Your email\"\n          className=\"NewCommentForm__input\"\n          value={email}\n          onChange={event => setEmail(event.target.value.trimLeft())}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <textarea\n          name=\"body\"\n          placeholder=\"Type comment here\"\n          className=\"NewCommentForm__input\"\n          value={body}\n          onChange={event => setBody(event.target.value.trimLeft())}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__submit-button button\"\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n\nNewCommentForm.propTypes = {\n  selectedPostId: PropTypes.number.isRequired,\n  setComments: PropTypes.func.isRequired,\n};\n","import { BASE_URL } from './api';\n\nexport const getAllPosts = async() => {\n  const response = await fetch(`${BASE_URL}/posts`);\n  const posts = await response.json();\n\n  return posts.data;\n};\n\nexport const getUserPosts = async(userId) => {\n  const posts = await getAllPosts();\n\n  return posts.filter(post => post.userId === userId);\n};\n\nexport const getPostDetails = async(postId) => {\n  const response = await fetch(`${BASE_URL}/posts/${postId}`);\n  const postDetails = await response.json();\n\n  return postDetails.data;\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './PostDetails.scss';\nimport { NewCommentForm } from '../NewCommentForm';\nimport { getPostComments, deleteComment } from '../../api/comments';\nimport { getPostDetails } from '../../api/posts';\n\nexport const PostDetails = ({ selectedPostId }) => {\n  const [isVisibleComments, setIsVisibleComments] = useState(true);\n  const [selectedPost, setSelectedPost] = useState(null);\n  const [comments, setComments] = useState([]);\n\n  useEffect(() => {\n    getPostDetails(selectedPostId)\n      .then(setSelectedPost);\n\n    getPostComments(selectedPostId)\n      .then(setComments);\n  }, [selectedPostId]);\n\n  if (!selectedPost) {\n    return <span>Loading...</span>;\n  }\n\n  return (\n    <div className=\"PostDetails\">\n      <h2>Post details:</h2>\n\n      <section className=\"PostDetails__post\">\n        <p>{selectedPost.title}</p>\n        <br />\n        <p>{selectedPost.body}</p>\n      </section>\n\n      <section className=\"PostDetails__comments\">\n        {comments.length > 0 && (\n          <button\n            type=\"button\"\n            className=\"button\"\n            onClick={() => setIsVisibleComments(!isVisibleComments)}\n          >\n            {isVisibleComments\n              ? `Hide ${comments.length} comments`\n              : `Show ${comments.length} comments`\n            }\n          </button>\n        )}\n\n        {isVisibleComments && (\n          <ul className=\"PostDetails__list\">\n            {comments.map(comment => (\n              <li\n                className=\"PostDetails__list-item\"\n                key={comment.id}\n              >\n                <button\n                  type=\"button\"\n                  className=\"PostDetails__remove-button button\"\n                  onClick={() => {\n                    deleteComment(comment.id)\n                      .then(() => getPostComments(selectedPostId))\n                      .then(setComments);\n                  }}\n                >\n                  X\n                </button>\n                <p>{comment.body}</p>\n              </li>\n            ))}\n          </ul>\n        )}\n\n      </section>\n\n      <section>\n        <div className=\"PostDetails__form-wrapper\">\n          <NewCommentForm\n            selectedPostId={selectedPostId}\n            comments={comments}\n            setComments={setComments}\n          />\n        </div>\n      </section>\n    </div>\n  );\n};\n\nPostDetails.propTypes = {\n  selectedPostId: PropTypes.number.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\nimport { getAllPosts, getUserPosts } from './api/posts';\n\nconst App = () => {\n  const [postsFromServer, setPosts] = useState([]);\n  const [selectedUserId, setSelectedUserId] = useState(0);\n  const [selectedPostId, setSelectedPostId] = useState(0);\n\n  useEffect(() => {\n    if (+selectedUserId === 0) {\n      getAllPosts()\n        .then(setPosts);\n    } else {\n      getUserPosts(+selectedUserId)\n        .then(setPosts);\n    }\n  }, [selectedUserId]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <label>\n          Select a user: &nbsp;\n\n          <select\n            value={selectedUserId}\n            className=\"App__user-selector\"\n            onChange={event => setSelectedUserId(event.target.value)}\n          >\n            <option value=\"0\">All users</option>\n            <option value=\"1\">Leanne Graham</option>\n            <option value=\"2\">Ervin Howell</option>\n            <option value=\"3\">Clementine Bauch</option>\n            <option value=\"4\">Patricia Lebsack</option>\n            <option value=\"5\">Chelsey Dietrich</option>\n            <option value=\"6\">Mrs. Dennis Schulist</option>\n            <option value=\"7\">Kurtis Weissnat</option>\n            <option value=\"8\">Nicholas Runolfsdottir V</option>\n            <option value=\"9\">Glenna Reichert</option>\n            <option value=\"10\">Leanne Graham</option>\n          </select>\n        </label>\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          <PostsList\n            posts={postsFromServer}\n            selectedPostId={selectedPostId}\n            setSelectedPostId={setSelectedPostId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          {selectedPostId > 0 && (\n            <PostDetails selectedPostId={selectedPostId} />\n          )}\n        </div>\n\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}